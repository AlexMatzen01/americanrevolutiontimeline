<!---Made by Alexander Matzen-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>American Revolution Timeline</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #e74c3c;
            --accent-color: #ecf0f1;
            --text-color: #333;
            --bg-color: #f4f4f4;
            --card-bg: #fff;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --transition-speed: 0.3s;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        header {
            background-color: var(--primary-color);
            color: var(--accent-color);
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
            z-index: 10;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            animation: fadeInDown 0.8s ease-out;
        }

        p.subtitle {
            font-style: italic;
            opacity: 0.8;
            animation: fadeInDown 0.8s ease-out 0.2s backwards;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 1rem;
            position: relative;
        }

        /* Timeline Bar */
        .timeline {
            position: relative;
            padding: 2rem 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--primary-color);
            transform: translateX(-50%);
            border-radius: 2px;
        }

        .timeline-item {
            display: flex;
            justify-content: flex-end;
            padding-right: 30px;
            position: relative;
            margin-bottom: 3rem;
            width: 50%;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .timeline-item:nth-child(even) {
            align-self: flex-end;
            justify-content: flex-start;
            padding-left: 30px;
            padding-right: 0;
            margin-left: 50%;
        }

        .timeline-item:nth-child(odd) {
            align-self: flex-start;
        }

        /* Timeline Dot */
        .timeline-dot {
            position: absolute;
            top: 15px;
            right: -8px;
            width: 16px;
            height: 16px;
            background: var(--secondary-color);
            border: 3px solid #fff;
            border-radius: 50%;
            box-shadow: 0 0 0 3px var(--secondary-color);
            z-index: 2;
            transition: transform 0.3s ease;
        }

        .timeline-item:nth-child(even) .timeline-dot {
            left: -8px;
            right: auto;
        }

        .timeline-item:hover .timeline-dot {
            transform: scale(1.3);
            background: #fff;
            border-color: var(--secondary-color);
        }

        /* Card */
        .timeline-content {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: var(--shadow);
            width: 100%;
            position: relative;
            cursor: pointer;
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
        }

        .timeline-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }

        .timeline-date {
            color: var(--secondary-color);
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .timeline-title {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .timeline-desc {
            font-size: 0.95rem;
            color: #555;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, opacity 0.4s ease-out;
            opacity: 0;
        }

        .timeline-content.active .timeline-desc {
            max-height: 200px; /* Approximate max height */
            opacity: 1;
            margin-top: 1rem;
        }
        
        /* Arrow */
        .timeline-content::after {
            content: '';
            position: absolute;
            top: 15px;
            right: -10px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-left: 10px solid var(--card-bg);
        }

        .timeline-item:nth-child(even) .timeline-content::after {
            left: -10px;
            right: auto;
            border-left: none;
            border-right: 10px solid var(--card-bg);
        }

        /* Loading */
        #loading {
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .timeline::before {
                left: 30px;
            }

            .timeline-item {
                width: 100%;
                padding-left: 60px;
                padding-right: 0;
                margin-left: 0;
                justify-content: flex-start;
                margin-bottom: 2rem;
            }

            .timeline-item:nth-child(even) {
                margin-left: 0;
                padding-left: 60px;
            }

            .timeline-dot {
                left: 22px;
                right: auto;
            }

            .timeline-item:nth-child(even) .timeline-dot {
                left: 22px;
            }

            .timeline-content::after {
                left: -10px;
                right: auto;
                border-left: none;
                border-right: 10px solid var(--card-bg);
            }

            .timeline-item:nth-child(even) .timeline-content::after {
                border-right: 10px solid var(--card-bg);
            }
        }
    </style>
</head>
<body>

<header>
    <h1>American Revolution Timeline</h1>
    <p class="subtitle">A journey through independence</p>
</header>

<div class="container">
    <div id="loading">Loading timeline data...</div>
    <div class="timeline" id="timeline">
        <!-- Events will be injected here -->
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const loading = document.getElementById('loading');
        const timeline = document.getElementById('timeline');
        const dataFile = 'eventsanddates.txt';

        // Formal historical descriptions for events
        const eventDescriptions = {
            "Lexington and Concord": "The first military engagements of the American Revolutionary War, marking the transition from political unrest to open armed conflict.",
            "British Parliament repeals the Stamp Act & issues the Declaratory Act": "Parliament rescinded the controversial Stamp Act but simultaneously asserted its absolute legislative authority over the colonies.",
            "Treaty of Paris (end of the French & Indian War)": "This treaty concluded the Seven Years' War, significantly expanding British territory in North America but resulting in substantial national debt.",
            "First Continental Congress meets in Philadelphia": "Delegates from twelve colonies convened to coordinate a formal response to the Coercive Acts and discuss colonial rights.",
            "Boston Tea Party": "A political protest by the Sons of Liberty against the Tea Act, involving the destruction of an entire shipment of East India Company tea.",
            "Second Continental Congress adopts the Olive Branch Petition": "A final attempt by the colonists to avoid full-scale war by pledging loyalty to the Crown and requesting a peaceful resolution.",
            "Benedict Arnold betrays the Continental Army": "A high-ranking American officer attempted to surrender the fortification at West Point to British forces, committing a notorious act of treason.",
            "Townshend Acts": "A series of measures passed by Parliament that imposed duties on various essential imported goods, further straining colonial relations.",
            "Cornwallis surrenders at Yorktown": "The capitulation of the British army under General Cornwallis effectively ended major land operations in the North American theater.",
            "Battle of Trenton": "General Washington led a daring crossing of the Delaware River to execute a successful surprise attack against Hessian mercenaries.",
            "Battle of Princeton": "A strategic victory for the Continental Army that significantly improved American morale and forced British forces to withdraw from parts of New Jersey.",
            "Valley Forge encampment begins": "The Continental Army endured a grueling winter quarters, utilizing the time to undergo professional military training under Baron von Steuben.",
            "Stamp Act passed": "The first direct internal tax imposed on the American colonies by the British Parliament, sparking widespread institutional resistance.",
            "British capture Philadelphia": "British forces occupied the revolutionary capital, forcing the Continental Congress to relocate and challenging the American command.",
            "Declaration of Independence adopted": "The formal document asserting the thirteen colonies as sovereign states, independent from British rule and founded on Enlightenment principles.",
            "Stamp Act Congress meets": "The first unified meeting of colonial representatives to organize a joint protest against British taxation policies.",
            "Battle of Bunker Hill": "Although a tactical British victory, the engagement demonstrated that colonial militia could effectively engage professional British regulars.",
            "Tea Act": "Legislation designed to support the struggling East India Company by granting it a monopoly on tea sales in the American colonies.",
            "Battle of Cowpens": "A tactical masterpiece in the Southern campaign where American forces utilized a double envelopment to decisively defeat the British.",
            "France allies with the United States": "The signing of the Treaty of Alliance secured critical French military and financial support, fundamentally altering the course of the war.",
            "Boston Massacre": "A confrontation between British soldiers and a colonial crowd that resulted in five deaths and served as a major catalyst for revolutionary sentiment.",
            "Articles of Confederation adopted": "The first constitutional agreement between the thirteen states, establishing a confederation of sovereign entities with a limited central government.",
            "Common Sense published": "Thomas Paine's influential pamphlet used clear language to argue for independence and the establishment of a republican government.",
            "Patrick Henry’s “Give me liberty, or give me death!” speech": "An impassioned address to the Second Virginia Convention that galvanized support for military preparedness against Great Britain.",
            "Nathan Hale executed": "An American soldier and spy captured by the British, remembered for his final declaration of devotion to the revolutionary cause.",
            "Siege of Yorktown begins": "Combined American and French forces initiated a decisive siege against the British army, leading to a critical strategic victory.",
            "Battle of Saratoga surrender": "A major victory for American forces that served as the primary catalyst for France to formally enter the war as an ally.",
            "Washington appointed Commander-in-Chief": "The Continental Congress selected George Washington to lead the newly formed Continental Army due to his military experience and character.",
            "Treaty of Paris signed": "The formal peace agreement in which Great Britain recognized the independence and sovereignty of the United States.",
            "British evacuate Boston": "Following the fortification of Dorchester Heights, British forces were compelled to withdraw their naval and ground troops from the city.",
            "British capture Charleston": "A significant British victory in the South that resulted in the surrender of a large American force and the loss of a strategic port."
        };

        const placeholders = [
            "This event represented a significant milestone in the American struggle for self-governance.",
            "Historical records indicate this development was central to the progression of the revolutionary movement.",
            "The strategic implications of this event resonated throughout the colonial and international theaters.",
            "Scholars characterize this period as a critical juncture in the formation of the American republic.",
            "This development reflected the growing ideological divide between the colonies and the British Crown.",
            "The outcome of this occurrence facilitated a fundamental shift in the American Revolutionary War."
        ];

        fetch(dataFile)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(text => {
                const events = parseData(text);
                renderTimeline(events);
                loading.style.display = 'none';
                observeEvents();
            })
            .catch(error => {
                console.error('Error loading data:', error);
                loading.textContent = 'Failed to load timeline data. Please ensure "eventsanddates.txt" is in the same folder.';
            });

        function parseData(text) {
            const lines = text.split('\n');
            const events = [];

            lines.forEach(line => {
                if (!line.trim()) return;

                // Priority: " — ", then " – ", then " - "
                let separator = null;
                if (line.includes(" — ")) separator = " — ";
                else if (line.includes(" – ")) separator = " – ";
                else if (line.includes(" - ")) separator = " - ";
                
                if (!separator) return;

                const parts = line.split(separator);
             
                // We expect at least one part to be a date.
                // Let's try to identify the date part.
                let datePartIndex = -1;
                
                for (let i = 0; i < parts.length; i++) {
                    if (hasDate(parts[i])) {
                        datePartIndex = i;
                        break; 
                        // Assuming first valid date we find is THE date.
                        // Or we could prefer the last part if multiple match?
                        // Usually date is at start or end.
                    }
                }

                if (datePartIndex === -1 && parts.length >= 2) {
                     // Heuristic fallback: last part
                     datePartIndex = parts.length - 1;
                }

                if (datePartIndex !== -1) {
                    const dateStr = parts[datePartIndex].trim();
                    const dateObj = new Date(dateStr);
                    
                    if (!isNaN(dateObj.getTime())) {
                        const titleParts = parts.filter((_, i) => i !== datePartIndex);
                        const title = titleParts.join(separator).trim();
                        
                        // Check for custom description, otherwise use a placeholder
                        let description = eventDescriptions[title];
                        if (!description) {
                            const descIndex = title.length % placeholders.length;
                            description = placeholders[descIndex];
                        }

                        events.push({
                            title: title,
                            dateStr: dateStr,
                            dateObj: dateObj,
                            description: description
                        });
                    }
                }
            });

            return events.sort((a, b) => a.dateObj - b.dateObj);
        }

        function hasDate(str) {
            return /\d{4}/.test(str);
        }

        function renderTimeline(events) {
            timeline.innerHTML = ''; // Clear container

            events.forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';
                
                const dot = document.createElement('div');
                dot.className = 'timeline-dot';

                const content = document.createElement('div');
                content.className = 'timeline-content';
                
                // Toggle description on click
                content.addEventListener('click', () => {
                    // Close others (optional, for accordion effect)
                    document.querySelectorAll('.timeline-content.active').forEach(el => {
                        if (el !== content) el.classList.remove('active');
                    });
                    content.classList.toggle('active');
                });

                const date = document.createElement('span');
                date.className = 'timeline-date';
                date.textContent = event.dateStr;

                const title = document.createElement('h3');
                title.className = 'timeline-title';
                title.textContent = event.title;

                const desc = document.createElement('p');
                desc.className = 'timeline-desc';
                desc.textContent = event.description;

                content.appendChild(date);
                content.appendChild(title);
                content.appendChild(desc);

                item.appendChild(dot);
                item.appendChild(content);

                timeline.appendChild(item);
            });
        }

        function observeEvents() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1
            });

            document.querySelectorAll('.timeline-item').forEach(item => {
                observer.observe(item);
            });
        }
    });
</script>

</body>
</html>
